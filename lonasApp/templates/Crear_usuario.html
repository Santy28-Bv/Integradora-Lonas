{% extends "layout.html" %}

{% block title %}
    Crea tu Usuario
{% endblock %}

{% block body %}
    <form id="formularioUsuario" action="{{ url_for('formulario_usuario') }}" method="POST">
        <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
        
        <h1 class="color">PARA EMPEZAR A CREAR TU CUENTA AGREGA UN CORREO Y UNA CONTRASEÑA ;)</h1>

        <!-- Alerta para campos vacíos -->
        <div id="alertCamposVacios" class="alert alert-danger mt-3" style="display: none;">
            Por favor, llena todos los campos antes de enviar el formulario.
        </div>
        
        <!-- Campo correo -->
        <div class="form-group">
            <label class="blancoR" for="correo">Correo</label>
            <input type="email" class="form-control borderR bottonR" id="correo" name="correo" placeholder="correo@example.com" aria-describedby="emailHelp">
        </div>
        
        <!-- Campo de Contraseña -->
        <div class="form-group">
            <label class="blancoR" for="password">Contraseña</label>
            <input type="password" class="form-control borderR bottonR" id="password" name="password" placeholder="Tu contraseña">
        </div>

        <!-- Checkbox para ver la contraseña -->
        <div class="form-group form-check">
            <input type="checkbox" class="form-check-input" id="togglePassword">
            <label class="form-check-label blancoR" for="togglePassword">Ver contraseña</label>
        </div>
        
        <!-- Botones para enviar y cancelar -->
        <button type="submit" class="btn borderr opacity colorR">Siguiente</button>
        <a href="{{ url_for('login') }}" class="btn borderr opacity colorR">Cancelar</a>
    </form>
    
    <!-- Scripts de Bootstrap y Validación -->
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>

    <script>
        // Mostrar/ocultar la contraseña
        document.getElementById('togglePassword').addEventListener('change', function () {
            const passwordField = document.getElementById('password');
            if (this.checked) {
                passwordField.setAttribute('type', 'text');
            } else {
                passwordField.setAttribute('type', 'password');
            }
        });

        // Validación del formulario antes de enviar
        document.getElementById('formularioUsuario').addEventListener('submit', function(event) {
            var correo = document.getElementById('correo').value;
            var password = document.getElementById('password').value;

            if (!correo || !password) {
                // Mostrar la alerta si hay campos vacíos
                document.getElementById('alertCamposVacios').style.display = 'block';
                event.preventDefault(); // Evitar que se envíe el formulario
            }
        });
    </script>
    <style>
        .border12{
            border-radius: 100px;
            background: rgb(63,94,251);
            background: linear-gradient(90deg, rgb(23, 57, 227) 0%, rgba(104,59,215,1) 100%);
            border: 2px solid rgb(255, 255, 255);
        }

        .opacity:hover{
            opacity: .8;
        }

        .blancoR{
            color: rgb(252, 252, 252);
        }

        .borderR{
            color: aliceblue;
            border-radius: 100px;
            border: 2px solid rgb(255, 255, 255);
            margin-right: 1px;
        }

        .bottonR{
            background: rgba(28, 28, 28, 0.895);
        }

        .borderr{
            border-radius: 100px;
            background: linear-gradient(90deg, rgb(23, 57, 227) 0%, rgba(104,59,215,1) 100%);
            text-decoration: none;
        }

        .colorR{
            color: rgb(255, 255, 255);
        }
    </style>
{% endblock %}
